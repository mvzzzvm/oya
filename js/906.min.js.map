{"version":3,"file":"906.min.js","mappings":"8FAAO,SAASA,IACZ,MAAMC,EAAaC,SAASC,cAAc,aAC1C,GAAKF,EAAL,CACA,IASIG,EACAC,EACAC,EACAC,EAZAC,EAAiB,GACjBC,EAAyBP,SAASC,cAAc,4BAChDO,EAAkBR,SAASS,iBAAiB,wBAC5CC,EAAsBF,EAAgB,GACtCG,EAAqBH,EAAgBA,EAAgBI,OAAS,GAC9DC,EAAgBC,OAAOC,YAEvBC,GADWF,OAAOC,aACb,GACLE,GAAS,EAMbH,OAAOI,iBAAiB,UAGxB,WACIhB,EAASY,OAAOK,QAEhBC,GACJ,IANAN,OAAOI,iBAAiB,UAQxB,WACIhB,EAASY,OAAOK,QACLL,OAAOC,YAElBK,GACJ,GA7BiB,CA+BjB,SAASC,IACLJ,GAAS,EAET,MAAMK,EAAMZ,EAAoBT,cAAc,6BAA6BsB,UAAYb,EAAoBa,UACrGC,EAASzB,EAAWwB,UAAYxB,EAAW0B,aAAed,EAAmBV,cAAc,6BAA6BsB,UAUlI,IACQG,EAVJ3B,EAAW4B,MAAML,IAAM,GAAGA,MAC1BvB,EAAW4B,MAAMH,OAAS,GAAGA,MAE7BR,IAAMd,IAAYc,EAAId,EAOlBwB,EAAQE,EAAiBjB,EAAmBV,cAAc,8BAC9DE,EAAIuB,EAAQxB,EAASY,OAAOK,QAC5Bf,EAAIwB,EAAiBrB,GAA0BL,EAASY,OAAOK,QAC/Dd,EAAIH,EAASE,EAAIS,EAAgBP,EACjCH,GAAKD,EAASW,EAAgBP,IAAmBD,EAAIF,EAAIC,GACzDG,EAAuBoB,MAAME,OAAS,GAAGxB,MAEzCG,EAAgBsB,SAAQC,IACRA,EAAK9B,cAAc,6BAA6BsB,UACpDrB,EAASY,OAAOK,QAAUjB,EAASI,EAAiBO,EACtDkB,EAAKC,UAAUC,IAAI,gBACnBF,EAAKC,UAAUE,OAAO,eAAc,IAjBlD,CACA,SAASN,EAAiBO,GACtB,OAAKA,EACEA,EAAGZ,UAAYK,EAAiBO,EAAGC,cAD1B,CAEpB,CAiBA,SAAShB,IACLH,GAAUoB,sBAAsBhB,GAChCJ,GAAS,CACb,CACJ,C","sources":["webpack://webdev/./src/js/modules/timeline.js"],"sourcesContent":["export function timeline() {\r\n    const agTimeline = document.querySelector(\".timeline\")\r\n    if (!agTimeline) return\r\n    var showNextItemAt = .5,\r\n        agTimelineLineProgress = document.querySelector(\".timeline__line-progress\"),\r\n        agTimelineItems = document.querySelectorAll(\".timeline__list-item\"),\r\n        agTimelineFirstItem = agTimelineItems[0],\r\n        agTimelineLastItem = agTimelineItems[agTimelineItems.length - 1],\r\n        agOuterHeight = window.outerHeight,\r\n        agHeight = window.outerHeight,\r\n        f = -1,\r\n        agFlag = false,\r\n        agPosY,\r\n        i,\r\n        a,\r\n        n\r\n\r\n    window.addEventListener(\"scroll\", fnOnScroll)\r\n    window.addEventListener(\"resize\", fnOnResize)\r\n\r\n    function fnOnScroll() {\r\n        agPosY = window.scrollY\r\n\r\n        fnUpdateFrame()\r\n    }\r\n\r\n    function fnOnResize() {\r\n        agPosY = window.scrollY\r\n        agHeight = window.outerHeight\r\n\r\n        fnUpdateFrame()\r\n    }\r\n\r\n    function fnUpdateWindow() {\r\n        agFlag = false\r\n\r\n        const top = agTimelineFirstItem.querySelector('.timeline__card-point-box').offsetTop - agTimelineFirstItem.offsetTop\r\n        const bottom = agTimeline.offsetTop + agTimeline.offsetHeight - agTimelineLastItem.querySelector('.timeline__card-point-box').offsetTop\r\n        agTimeline.style.top = `${top}px`\r\n        agTimeline.style.bottom = `${bottom}px`\r\n\r\n        f !== agPosY && ((f = agPosY), agHeight, fnUpdateProgress())\r\n    }\r\n    function getOffsetFromTop(el) {\r\n        if (!el) return 0\r\n        return el.offsetTop + getOffsetFromTop(el.offsetParent)\r\n    }\r\n    function fnUpdateProgress() {\r\n        var agTop = getOffsetFromTop(agTimelineLastItem.querySelector('.timeline__card-point-box'))\r\n        i = agTop + agPosY - window.scrollY\r\n        a = getOffsetFromTop(agTimelineLineProgress) + agPosY - window.scrollY\r\n        n = agPosY - a + agOuterHeight * showNextItemAt\r\n        i <= agPosY + agOuterHeight * showNextItemAt && (n = i - a)\r\n        agTimelineLineProgress.style.height = `${n}px`\r\n\r\n        agTimelineItems.forEach(item => {\r\n            var agTop = item.querySelector(\".timeline__card-point-box\").offsetTop\r\n            agTop + agPosY - window.scrollY < agPosY + showNextItemAt * agOuterHeight\r\n                ? item.classList.add(\"js-ag-active\")\r\n                : item.classList.remove(\"js-ag-active\")\r\n        })\r\n    }\r\n\r\n    function fnUpdateFrame() {\r\n        agFlag || requestAnimationFrame(fnUpdateWindow)\r\n        agFlag = true\r\n    }\r\n}\r\n"],"names":["timeline","agTimeline","document","querySelector","agPosY","i","a","n","showNextItemAt","agTimelineLineProgress","agTimelineItems","querySelectorAll","agTimelineFirstItem","agTimelineLastItem","length","agOuterHeight","window","outerHeight","f","agFlag","addEventListener","scrollY","fnUpdateFrame","fnUpdateWindow","top","offsetTop","bottom","offsetHeight","agTop","style","getOffsetFromTop","height","forEach","item","classList","add","remove","el","offsetParent","requestAnimationFrame"],"sourceRoot":""}