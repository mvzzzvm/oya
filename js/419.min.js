"use strict";(self.webpackChunkwebdev=self.webpackChunkwebdev||[]).push([[419],{419:(e,t,i)=>{i.r(t),i.d(t,{VideoSourceSelector:()=>s,video:()=>o});class s{constructor(e){this.video=document.querySelector(e),this.order=["video/webm","video/mp4"],this.breakpoints={},this.video.querySelectorAll("[data-src]").forEach((e=>{const t=e.getAttribute("data-mw");if(!t)throw new Error("unable to find data-mw attribute");if(isNaN(t))throw new Error(`data-mw is expected to be a number, '${t}' found`);this.breakpoints[t]||(this.breakpoints[t]=[]),this.breakpoints[t].push({src:e.getAttribute("data-src"),type:e.getAttribute("type")})})),this.video.innerHTML="",this.chooseSource(),this.listenToResizes()}listenToResizes(){window.addEventListener("resize",this.chooseSource.bind(this))}chooseSource(){const e=window.innerWidth,t=this.video.getAttribute("data-width-now")||null,i=Object.keys(this.breakpoints).filter((e=>!isNaN(e))).map(Number);let s=i.filter((t=>t>=e)),o=0===s.length?Math.max(...i):Math.min(...s);if(!t||t!=o){this.video.setAttribute("data-width-now",o),this.video.innerHTML="",this.sortBreakpointsByType(this.breakpoints[o]);for(const e of this.breakpoints[o]){const t=document.createElement("source");t.src=e.src,t.type=e.type,this.video.append(t)}}}sortBreakpointsByType(e){e.sort(((e,t)=>this.order.includes(e.type)&&this.order.includes(t.type)?this.order.indexOf(e.type)-this.order.indexOf(t.type):this.order.includes(e.type)&&!this.order.includes(t.type)?-1:1))}}function o(e,t){const i=document.querySelector(e);if(!i)return;const s=document.querySelector(".video__button"),o=document.querySelector(".video__poster");i.addEventListener("play",(()=>{s.style.display="none",o.style.display="none"})),i.addEventListener("pause",(()=>{i.seeking||(s.style.display="block")})),s.addEventListener("click",(function(e){e.target.closest(".video__button")&&(i.paused?i.play():i.pause())}))}}}]);
//# sourceMappingURL=419.min.js.map